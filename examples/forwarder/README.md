# MQTT转发器示例

本示例展示了如何使用MQTTX库的转发器功能，实现不同MQTT会话之间的消息转发。

## 功能说明

本示例实现了以下功能：

1. 创建两个MQTT会话：边缘设备和云服务
2. 配置两个转发器：
   - 边缘设备到云服务的数据上报
   - 云服务到边缘设备的控制命令下发
3. 自动发布测试消息，模拟设备数据上报和控制指令下发
4. 定期打印转发器指标信息

## 运行方法

```bash
# 进入示例目录
cd examples/forwarder_example

# 编译示例
go build -o forwarder_example

# 运行示例
./forwarder_example
```

## 预期输出

成功运行后，将看到如下输出：

```
已发布第1轮传感器数据
已发布第2轮传感器数据
已发布第3轮传感器数据
已发布第4轮传感器数据
已发布第5轮传感器数据
已发送云端控制命令
已发布第6轮传感器数据

转发器指标:
  edge-to-cloud:
    - 接收消息: 15
    - 发送消息: 15
    - 丢弃消息: 0
    - 运行状态: true
  cloud-to-edge:
    - 接收消息: 1
    - 发送消息: 1
    - 丢弃消息: 0
    - 运行状态: true
```

## 代码结构说明

- `main.go`: 示例主程序
- 示例中创建了两个转发器:
  1. `edge-to-cloud`: 将传感器数据从边缘设备发送到云服务
  2. `cloud-to-edge`: 将控制命令从云服务发送到边缘设备

## 注意事项

- 示例中使用的是本地MQTT代理服务器，实际应用中可能需要修改服务器地址
- 示例使用了相对导入路径，如果作为独立项目运行，需要修改导入路径 